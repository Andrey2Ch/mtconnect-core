# –ü–û–î–†–û–ë–ù–´–ô –ü–õ–ê–ù –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–ò –°–ò–°–¢–ï–ú–´

## üéØ –¶–ï–õ–ò –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–ò

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏:
- ‚úÖ **–£–±—Ä–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å:** –£–¥–∞–ª–∏—Ç—å MTConnect –∞–≥–µ–Ω—Ç—ã –∏ XML –æ–±—Ä–∞–±–æ—Ç–∫—É
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏
- ‚úÖ **–ü–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ü—Ä—è–º–æ–µ SHDR —á—Ç–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ HTTP+XML
- ‚úÖ **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ú–µ–Ω—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø–æ—Ä—Ç–æ–≤
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å ADAM:** –û—Å—Ç–∞–≤–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Ü–∏–∫–ª–∞

## üìã –≠–¢–ê–ü–´ –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–ò

### **–≠–¢–ê–ü 1: –ü–û–î–ì–û–¢–û–í–ö–ê –ò –ë–≠–ö–ê–ü**
**–¶–µ–ª—å:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞–±–æ—á—É—é —Å–∏—Å—Ç–µ–º—É –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

#### 1.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
```powershell
# –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
git add .
git commit -m "backup: working system before modernization"
git push origin main

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
git checkout local_dev
```

#### 1.2. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø–æ—Ä—Ç–æ–≤
```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
netstat -ano | findstr "LISTENING" | findstr -E "(5001|5002|5003|5004|5005|5006|5007|5008|7701|7702|7703|7704|7705|7706|7707|7708|3000|3001)"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ç–µ–∫—É—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### **–≠–¢–ê–ü 2: –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–Ø FANUC –û–ë–†–ê–ë–û–¢–ö–ò**
**–¶–µ–ª—å:** –ü—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ SHDR –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ö–æ–¥ MTConnect –∞–≥–µ–Ω—Ç–æ–≤

#### 2.1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π SHDR –∫–ª–∏–µ–Ω—Ç (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π)
```typescript
// –§–∞–π–ª: src/fanuc-shdr-client.ts
interface FanucSHDRData {
    machineId: string;
    machineName: string;
    program: string;
    partCount: number;
    availability: string;
    execution: string;
    timestamp: string;
}

class FanucSHDRClient {
    private connections: Map<string, SHDRConnection>;
    
    constructor(machines: MachineConfig[]) {
        this.connections = new Map();
        machines.forEach(machine => {
            // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∞–¥–∞–ø—Ç–µ—Ä—É –Ω–∞–ø—Ä—è–º—É—é (–ø–æ—Ä—Ç 77XX)
            const shdrPort = this.getFanucAdapterPort(machine.id);
            this.connections.set(machine.id, new SHDRConnection({
                host: 'localhost',
                port: shdrPort,
                machineId: machine.id,
                machineName: machine.name
            }));
        });
    }
    
    private getFanucAdapterPort(machineId: string): number {
        // M_1_XD-20 -> 7701, M_2_SR_26 -> 7702, etc.
        const index = parseInt(machineId.split('_')[1]) - 1;
        return 7701 + index;
    }
    
    async getAllMachinesData(): Promise<FanucSHDRData[]> {
        const results: FanucSHDRData[] = [];
        
        for (const [machineId, connection] of this.connections) {
            try {
                const shdrData = await connection.readCurrentData();
                const parsed = this.parseSHDRData(machineId, shdrData);
                results.push(parsed);
            } catch (error) {
                console.error(`‚ùå –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è SHDR –¥–ª—è ${machineId}:`, error);
                // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å —Å –æ—à–∏–±–∫–æ–π
                results.push(this.createErrorRecord(machineId));
            }
        }
        
        return results;
    }
    
    private parseSHDRData(machineId: string, shdrLines: string[]): FanucSHDRData {
        const data: any = {};
        
        // –ü–∞—Ä—Å–∏–º SHDR —Å—Ç—Ä–æ–∫–∏: "timestamp|field|value"
        shdrLines.forEach(line => {
            const parts = line.split('|');
            if (parts.length >= 3) {
                data[parts[1]] = parts[2];
            }
        });
        
        return {
            machineId,
            machineName: this.getMachineName(machineId),
            program: this.extractProgram(data.program_comment, data.program),
            partCount: parseInt(data.part_count) || 0,
            availability: data.avail || 'UNAVAILABLE',
            execution: data.execution || 'UNAVAILABLE',
            timestamp: new Date().toISOString()
        };
    }
}
```

#### 2.2. –û–±–Ω–æ–≤–∏—Ç—å main.ts –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
```typescript
// –ó–∞–º–µ–Ω–∏—Ç—å –≤ src/main.ts:

// ‚ùå –°–¢–ê–†–´–ô –ö–û–î:
// for (const machine of FANUC_MACHINES) {
//     const response = await axios.get(`${machine.mtconnectAgentUrl}/current`);
//     const parsedXml = await xmlParse(response.data);
// }

// ‚úÖ –ù–û–í–´–ô –ö–û–î:
import { FanucSHDRClient } from './fanuc-shdr-client';

const fanucClient = new FanucSHDRClient(FANUC_MACHINES);

// –í —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
async function updateFanucData() {
    try {
        const allMachinesData = await fanucClient.getAllMachinesData();
        
        allMachinesData.forEach(machineData => {
            // –ü—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑ XML –ø–∞—Ä—Å–∏–Ω–≥–∞
            processPartCount(machineData);
            processExecutionStatus(machineData);
            sendToRailway(machineData);
        });
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è FANUC –¥–∞–Ω–Ω—ã—Ö:', error);
    }
}
```

#### 2.3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
```json
// –í config.json —É–±—Ä–∞—Ç—å MTConnect URL –∏ –¥–æ–±–∞–≤–∏—Ç—å SHDR –ø–æ—Ä—Ç—ã:
{
  "machines": [
    {
      "id": "M_1_XD-20",
      "name": "XD-20", 
      "ip": "192.168.1.105",
      "fanucAdapterPort": 7701,  // ‚Üê –ù–û–í–û–ï –ü–û–õ–ï
      "type": "FANUC"
      // ‚ùå –£–ë–†–ê–¢–¨: "mtconnectAgentUrl": "http://127.0.0.1:5001"
    }
  ]
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ SHDR, –º–∏–Ω—É—Å 8 HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ XML –ø–∞—Ä—Å–∏–Ω–≥

### **–≠–¢–ê–ü 3: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø ADAM –û–ë–†–ê–ë–û–¢–ö–ò**  
**–¶–µ–ª—å:** –£–±—Ä–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —É–º–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

#### 3.1. –£–ø—Ä–æ—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```typescript
// –í src/main.ts —É–ø—Ä–æ—Å—Ç–∏—Ç—å getAdamCounters():

// ‚ùå –£–ë–†–ê–¢–¨ –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï:
// const railwayData = {
//     data: {
//         partCount: counter.count,
//         adamData: {
//             analogData: {
//                 "count": counter.count,  // –î–£–ë–õ–ò–ö–ê–¢!
//             }
//         }
//     }
// };

// ‚úÖ –ü–†–û–°–¢–û–ô –§–û–†–ú–ê–¢:
const railwayData = {
    machineId: counter.machineId,
    machineName: counter.machineId,
    timestamp: counter.timestamp,
    data: {
        partCount: counter.count,
        cycleTime: counter.cycleTimeMs ? counter.cycleTimeMs / 1000 : undefined,
        confidence: counter.confidence,
        partsInCycle: counter.partsInCycle
    }
};
```

#### 3.2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã AdamReader
```typescript
// ‚úÖ –ù–ï –¢–†–û–ì–ê–¢–¨ AdamReader.ts - –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
// –¢–æ–ª—å–∫–æ —É–±—Ä–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ main.ts
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ß–∏—Å—Ç—ã–π –∫–æ–¥ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### **–≠–¢–ê–ü 4: –û–ë–ù–û–í–õ–ï–ù–ò–ï API ENDPOINTS**
**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏

#### 4.1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å REST API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```typescript
// –í Cloud API —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints:
// GET /api/machines - ‚úÖ –æ—Å—Ç–∞–µ—Ç—Å—è
// GET /api/counters - ‚úÖ –æ—Å—Ç–∞–µ—Ç—Å—è  
// GET /dashboard-new.html - ‚úÖ –æ—Å—Ç–∞–µ—Ç—Å—è

// –¢–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (SHDR –≤–º–µ—Å—Ç–æ XML)
```

#### 4.2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```typescript
// –ù–æ–≤—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ endpoints:
app.get('/api/system/health', (req, res) => {
    res.json({
        fanucAdapters: fanucClient.getConnectionStatuses(),
        adamConnection: adamReader.testConnection(),
        activePorts: [7701, 7702, 7703, 7704, 7705, 7706, 7707, 7708, 502],
        removedPorts: [5001, 5002, 5003, 5004, 5005, 5006, 5007, 5008] // –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º —á—Ç–æ —É–±—Ä–∞–ª–∏
    });
});

app.get('/api/system/performance', (req, res) => {
    res.json({
        directSHDR: true,
        xmlParsing: false,
        httpRequests: 0,
        tcpConnections: 8
    });
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

### **–≠–¢–ê–ü 5: –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–ö–†–ò–ü–¢–û–í –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê**
**–¶–µ–ª—å:** –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å PowerShell —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–¥ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

#### 5.1. –û–±–Ω–æ–≤–∏—Ç—å smart-fanuc-monitor.ps1
```powershell
# –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ—Ä—Ç–æ–≤:
# ‚ùå –°–¢–ê–†–û–ï: –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ—Ä—Ç—ã 5001-5008 (MTConnect –∞–≥–µ–Ω—Ç—ã)
# ‚úÖ –ù–û–í–û–ï: –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—ã 7701-7708 (FANUC –∞–¥–∞–ø—Ç–µ—Ä—ã)

$machines = @(
    @{ Name = "M_1_XD-20"; AdapterPort = 7701; AdapterPath = "From Anat\Fanuc\M_1_XD-20\Adapter" }
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã
)

# –£–±—Ä–∞—Ç—å —Å–µ–∫—Ü–∏—é –∑–∞–ø—É—Å–∫–∞ MTConnect –∞–≥–µ–Ω—Ç–æ–≤:
# ‚ùå –£–ë–†–ê–¢–¨: STEP 5: Starting MTConnect Agents...
```

#### 5.2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π start-modernized-system.ps1
```powershell
# –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–ø—É—Å–∫:
# ‚úÖ –≠–¢–ê–ü 1: FANUC Adapters (–ø–æ—Ä—Ç—ã 7701-7708)
# ‚úÖ –≠–¢–ê–ü 2: Edge Gateway (–ø–æ—Ä—Ç 3000) 
# ‚ùå –£–ë–†–ê–¢–¨: MTConnect Agents (–ø–æ—Ä—Ç—ã 5001-5008)
# ‚úÖ –≠–¢–ê–ü 3: Cloud API (–ø–æ—Ä—Ç 3001)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–æ—Å—Ç—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –º–µ–Ω—å—à–µ –ø—Ä–æ–≤–µ—Ä–æ–∫

### **–≠–¢–ê–ü 6: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –ü–†–û–í–ï–†–ö–ê**
**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

#### 6.1. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
// –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç: scripts/test-modernized-system.js
const testCases = [
    '–ß—Ç–µ–Ω–∏–µ FANUC –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ SHDR',
    '–ß—Ç–µ–Ω–∏–µ ADAM —Å—á–µ—Ç—á–∏–∫–æ–≤', 
    '–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Railway',
    'Dashboard –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ',
    'REST API –æ—Ç–≤–µ—Ç—ã'
];

// –ó–∞–ø—É—Å–∫: node scripts/test-modernized-system.js
```

#### 6.2. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
console.time('SHDR —á–∏—Ç–∞–µ—Ç 8 –º–∞—à–∏–Ω');
const fanucData = await fanucClient.getAllMachinesData();
console.timeEnd('SHDR —á–∏—Ç–∞–µ—Ç 8 –º–∞—à–∏–Ω');

console.time('ADAM —á–∏—Ç–µ—Ç 10 —Å—á–µ—Ç—á–∏–∫–æ–≤');
const adamData = await adamReader.readCounters();
console.timeEnd('ADAM —á–∏—Ç–µ—Ç 10 —Å—á–µ—Ç—á–∏–∫–æ–≤');
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ

## üóÇÔ∏è –§–ê–ô–õ–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ü–û–°–õ–ï –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–ò

### **–ù–û–í–´–ï –§–ê–ô–õ–´:**
```
src/
‚îú‚îÄ‚îÄ fanuc-shdr-client.ts          # ‚úÖ –ù–û–í–´–ô: –ü—Ä—è–º–æ–µ SHDR —á—Ç–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ shdr-connection.ts             # ‚úÖ –ù–û–í–´–ô: TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏
‚îî‚îÄ‚îÄ types/
    ‚îî‚îÄ‚îÄ fanuc-data.types.ts        # ‚úÖ –ù–û–í–´–ô: –¢–∏–ø—ã –¥–ª—è FANUC –¥–∞–Ω–Ω—ã—Ö

scripts/
‚îú‚îÄ‚îÄ test-modernized-system.js      # ‚úÖ –ù–û–í–´–ô: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ start-modernized-system.ps1    # ‚úÖ –ù–û–í–´–ô: –ó–∞–ø—É—Å–∫ –±–µ–∑ –∞–≥–µ–Ω—Ç–æ–≤

docs/
‚îú‚îÄ‚îÄ MODERNIZATION-PROBLEM-ANALYSIS.md  # ‚úÖ –ù–û–í–´–ô: –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º
‚îî‚îÄ‚îÄ MODERNIZATION-PLAN.md              # ‚úÖ –ù–û–í–´–ô: –ü–ª–∞–Ω –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏
```

### **–ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´:**
```
src/main.ts                        # üîÑ –ò–ó–ú–ï–ù–ï–ù: –£–±—Ä–∞—Ç—å XML, –¥–æ–±–∞–≤–∏—Ç—å SHDR –∫–ª–∏–µ–Ω—Ç
config.json                        # üîÑ –ò–ó–ú–ï–ù–ï–ù: –£–±—Ä–∞—Ç—å mtconnectAgentUrl
smart-fanuc-monitor.ps1            # üîÑ –ò–ó–ú–ï–ù–ï–ù: –£–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∞–≥–µ–Ω—Ç–æ–≤
```

### **–£–î–ê–õ–Ø–ï–ú–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´:**
```powershell
# MTConnect –∞–≥–µ–Ω—Ç—ã –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã:
# –ù–æ –ù–ï —É–¥–∞–ª—è–µ–º —Ñ–∞–π–ª—ã - –æ–Ω–∏ –º–æ–≥—É—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
# –ü—Ä–æ—Å—Ç–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 5001-5008
```

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚ö° **HTTP –∑–∞–ø—Ä–æ—Å—ã:** 8 ‚Üí 0 (-100%)
- ‚ö° **XML –ø–∞—Ä—Å–∏–Ω–≥:** 8 –æ–ø–µ—Ä–∞—Ü–∏–π ‚Üí 0 (-100%)  
- ‚ö° **TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:** –ü—Ä—è–º—ã–µ –∫ –∞–¥–∞–ø—Ç–µ—Ä–∞–º (+30% —Å–∫–æ—Ä–æ—Å—Ç—å)
- ‚ö° **–ü–∞–º—è—Ç—å:** -50MB (–±–µ–∑ XML –±—É—Ñ–µ—Ä–æ–≤)

### **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- üîß **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** 24 ‚Üí 16 (-33%)
- üîß **–ü–æ—Ä—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:** 16 ‚Üí 8 (-50%)
- üîß **–¢–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞:** -8 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–í—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã** (program, part_count, execution, availability)
- ‚úÖ **Dashboard —Ä–∞–±–æ—Ç–∞–µ—Ç** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **REST API —Å–æ–≤–º–µ—Å—Ç–∏–º** —Å–æ –≤—Å–µ–º–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ **–í—Ä–µ–º—è —Ü–∏–∫–ª–∞ ADAM** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å ¬±1%

### **–ü—Ä–æ—Å—Ç–æ—Ç–∞:**
- üìñ **–û–¥–∏–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª** –¥–ª—è FANUC (SHDR —Ç–µ–∫—Å—Ç)
- üìñ **–ú–µ–Ω—å—à–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** –∏ –æ—Ç–ª–∞–¥–∫–∏
- üìñ **–ü—Ä–æ—Å—Ç—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üöÄ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò –ü–û –í–†–ï–ú–ï–ù–ò

| –≠—Ç–∞–ø | –í—Ä–µ–º—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-------|----------|
| 1 | 1 —á–∞—Å | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –±—ç–∫–∞–ø |
| 2 | 4-6 —á–∞—Å–æ–≤ | –°–æ–∑–¥–∞–Ω–∏–µ SHDR –∫–ª–∏–µ–Ω—Ç–∞ |
| 3 | 2 —á–∞—Å–∞ | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ADAM |
| 4 | 1 —á–∞—Å | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API |
| 5 | 2 —á–∞—Å–∞ | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ |
| 6 | 3 —á–∞—Å–∞ | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **–ò–¢–û–ì–û** | **13-15 —á–∞—Å–æ–≤** | **–ü–æ–ª–Ω–∞—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è** |

## üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:**
- ‚úÖ FANUC –¥–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ SHDR (–ø–æ—Ä—Ç—ã 7701-7708)
- ‚úÖ MTConnect –∞–≥–µ–Ω—Ç—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (–ø–æ—Ä—Ç—ã 5001-5008 —Å–≤–æ–±–æ–¥–Ω—ã)
- ‚úÖ Cloud API –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ —á—Ç–æ –∏ —Ä–∞–Ω—å—à–µ
- ‚úÖ Dashboard –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- ‚úÖ ADAM –≤—Ä–µ–º—è —Ü–∏–∫–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å ¬±1%

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã < 2 —Å–µ–∫ (–≤–º–µ—Å—Ç–æ 5+ —Å–µ–∫)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ < 200MB (–≤–º–µ—Å—Ç–æ 250MB)
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π = 8 TCP (–≤–º–µ—Å—Ç–æ 8 HTTP)

### **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö 8 FANUC –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
- ‚úÖ –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ—à–∏–±–æ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2024-12-18  
**–ê–≤—Ç–æ—Ä:** –ê–Ω–¥—Ä–µ–π  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–í–µ—Ä—Å–∏—è:** 1.0